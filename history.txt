    1  exit
    2  oc 
    3  oc login -u cgpysc -p 3047b77df4c74ff5a84a https://api.eu45.prod.nextcle.com:6443
    4  lab-configure 
    5  ping classroom.example.com 
    6  lab-configure 
    7  rpm -qa httpd
    8  sudo yum -y install httpd
    9  systemctl start httpd
   10  sudo systemctl enable httpd 
   11  sudo systemctl status httpd
   12  lssubsys
   13  sudo yum install libcgroup-tools
   14  lssubsys
   15  nsenter --help 
   16  lsblk 
   17  ls -ld /var/www/html /var/tmp /etc/
   18  tail /etc/passwd | grep apache 
   19  ls -ldZ /var/www/html /var/tmp /etc/
   20  ps -Zc httpd
   21  ps -ZC httpd
   22  sestatus 
   23  strace -f ls
   24  strace -fc ls
   25  oc login -u cgpysc -p 3047b77df4c74ff5a84a https://api.eu45.prod.nextcle.com:6443
   26  podman images 
   27  podman search mysql 
   28  podman pull registry.redhat.io/rhel8/mysql-80
   29  podman login registry.redhat.io
   30  cat /run/user/1000/containers/auth.json 
   31  podman pull registry.redhat.io/rhel8/mysql-80
   32  podman logout registry.redhat.io
   33   cat /run/user/1000/containers/auth.json 
   34  podman images
   35  ls -al 
   36  ls -al .local/
   37  ls -al .local/share/
   38  ls -al .local/share/containers/
   39  lab-configure 
   40  ls
   41  git clone https://github.com/sanjurajrh/DO180-apps.git
   42  ls
   43  ls DO180-apps/
   44  cd DO180-apps/
   45  ls
   46  cat README.md 
   47  ls php-helloworld/
   48  vim ~/token
   49  git branch
   50  git checkout -b exercise 
   51  echo "testing" > text.txt
   52  git add test
   53  git add text.txt 
   54  git commit -m "Added a new file"
   55  git push 
   56  git push --set-upstream origin exercise 
   57  echo "check2" >  OCP.txt
   58  git add OCP.txt
   59  git commit -m "OCP test file added"
   60  git push 
   61  cd
   62  lab-configure 
   63  oc login -u cgpysc -p 3047b77df4c74ff5a84a https://api.eu45.prod.nextcle.com:6443
   64  podman ps 
   65  podman stop mysql-basic 
   66  lab-configure 
   67  cat /usr/local/etc/ocp4.config
   68  echo $RHT_OCP4_DEV_USER
   69  source /usr/local/etc/ocp4.config 
   70  echo $RHT_OCP4_DEV_USER
   71  oc login -u ${$RHT_OCP4_DEV_USER} -p ${$RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
   72  oc login -u ${$RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
   73  oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
   74  oc login -u cgpysc -p 3047b77df4c74ff5a84a https://api.eu45.prod.nextcle.com:6443
   75  rpm -qa podman 
   76  podman version
   77  ls -l /etc/containers/registries.conf 
   78  sudo vim /etc/containers/registries.conf
   79  podman search  --help
   80  podman search  rhel
   81  podman search docker.io/centos 
   82  podman images 
   83  # Image Name Format 
   84  # registry_server_name/accountname/imagename:tag 
   85  podman pull docker.io/mysql
   86  podman images 
   87  podman rmi docker.io/library/mysql:latest 
   88  podman images 
   89  podman rmi 1640e7c19cd5
   90  podman images 
   91  podman pull docker.io/mysql
   92  podman inspect docker.io/mysql:latest 
   93  podman images 
   94  podman inspect registry.redhat.io/rhel8/mysql-80
   95  podimages
   96  podman images 
   97  podman rmi 562c9bc24a08
   98  podman pull registry.redhat.io/rhel8/mysql-80
   99  podman login registry.redhat.io
  100  cat /run/user/1000/containers/auth.json 
  101  podman pull registry.redhat.io/rhel8/mysql-80
  102  podman images
  103  podman tag --help
  104  podman tag 1640e7c19cd5 quay.io/sanjuraj_rh/mysql-80:v1.0 
  105  podman images 
  106  podman rmi 1640e7c19cd5
  107  podman rmi quay.io/sanjuraj_rh/mysql-80:v1.0 
  108  podman images 
  109  podman inspect registry.redhat.io/rhel8/mysql-80
  110  podman search registry.redhat.io/rhel8/mysql-80  --list-tags
  111  podman info 
  112  podman images
  113  ls
  114  podman save --help 
  115  podman save -o mysql.tar 1640e7c19cd5
  116  ls
  117  tar tf mysql.tar 
  118  podman images 
  119  podman rmi 1640e7c19cd5
  120  podman images 
  121  ls
  122  podman load -i mysql.tar
  123  podman images 
  124  podman tag 1640e7c19cd5 registry.redhat.io/rhel8/mysql-80:latest
  125  podman images 
  126  ls
  127  history 
  128  podman images 
  129  podman inspect registry.redhat.io/rhel8/mysql-80:latest  
  130  skopeo inspect docker://registry.redhat.io/rhel8/mysql-80:latest
  131  podman images 
  132  podman tag registry.redhat.io/rhel8/mysql-80:latest quay.io/sanjuraj_rh/mysql
  133  podman images 
  134  podman login quay.io
  135  podman push quay.io/sanjuraj_rh/mysql:latest 
  136  podman images 
  137  podman history registry.redhat.io/rhel8/mysql-80:latest
  138  podman search ubi
  139  podman images 
  140  podman run registry.access.redhat.com/ubi8/ubi
  141  podman ps 
  142  podman ps -a
  143  podman run registry.access.redhat.com/ubi8/ubi echo 'Hello World'
  144  podman ps 
  145  podman ps -a
  146  podman images 
  147  podman run --name mysql-basic registry.redhat.io/rhel8/mysql-80:latest 
  148  podman ps -a 
  149  podman logs mysql-basic
  150  podman run --name mysql-basic -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=testdb -e MYSQL_ROOT_PASSWORD=r00tpa55 registry.redhat.io/rhel8/mysql-80:latest 
  151  podman ps -a 
  152  podman stop mysql-basic
  153  podman rm mysql-basic
  154  podman ps -a 
  155  podman rm -a 
  156  podman ps -a 
  157  podman run --name mysql-basic -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=testdb -e MYSQL_ROOT_PASSWORD=r00tpa55 registry.redhat.io/rhel8/mysql-80:latest 
  158  podman ps 
  159  podman ps -a
  160  podman start mysql-basic 
  161  podman ps 
  162  podman exec -it mysql-basic /bin/bash
  163  podman ps 
  164  podman stop mysql-basic 
  165  podman rm mysql-basic
  166  podman ps -a 
  167  podman run -d --name mysql-basic -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=testdb -e MYSQL_ROOT_PASSWORD=r00tpa55 registry.redhat.io/rhel8/mysql-80:latest 
  168  podman ps 
  169  podman  stop mysql-basic mysql-basic 
  170  podman rm mysql-basic
  171  podman pull quay.io/redhattraining/hello-world-nginx:v1.0 
  172  podman images 
  173  podman inspect quay.io/redhattraining/hello-world-nginx:v1.0 
  174  podman run --name myweb -p 8080:8080 -d  quay.io/redhattraining/hello-world-nginx:v1.0 
  175  podman ps 
  176  podman port myweb 
  177  curl localhost:8080
  178  podman exec -it myweb bash
  179  podman images 
  180  podman ps -a
  181  podman  stop myweb
  182  podman rm -l 
  183  podman ps -a 
  184  podman images 
  185  podman rmi - a
  186  podman rmi -a
  187  podman images
  188  podman rmi quay.io/sanjuraj_rh/mysql:latest 
  189  podman images
  190  podman rmi -a
  191  podman images
  192  lab container-create start 
  193  sudo podman images 
  194  sudo podman ps -a 
  195  sudo podman run --name mysql-basic -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 -d rhscl/mysql-57-rhel7:5.7-3.14
  196  sudo podman ps 
  197  man podman-ps 
  198  sudo podman ps --format "{{.ID}}"
  199  sudo podman ps --format "{{.ID}} {{.Image}}"
  200  sudo podman ps --format "{{.ID}}  {{.Image}}  {{.Status}}"
  201  sudo podman exec -it mysql-basic /bin/bash
  202  lab container-create finish 
  203  lab container-review start
  204  sudo podman images 
  205  sudo podman ps -a
  206  sudo podman search quay.io/redhattraining/httpd-parent
  207  sudo podman search quay.io/redhattraining/httpd-parent:2.4
  208  skopeo inspect docker://quay.io/redhattraining/httpd-parent:2.4
  209  sudo podman run --name httpd-basic -d -p 8080:80 quay.io/redhattraining/httpd-parent:2.4
  210  sudo podman ps 
  211  curl http://localhost:8080
  212  sudo podman exec -it httpd-basic /bin/bash
  213  curl http://localhost:8080
  214  lab container-review grade 
  215  lab container-review finish 
  216  sudo podman images 
  217  sudo podman ps -a 
  218  sudo systemctl status podman
  219  sudo podman images 
  220  sudo podman search httpd
  221  sudo podman run registry.access.redhat.com/rhscl/httpd-24-rhel7
  222  sudo podman ps 
  223  sudo podman ps -a
  224  sudo podman logs mystifying_chaum
  225  sudo podman ps -a
  226  sudo podman ps -a --format='{{.ID}}'
  227  sudo podman ps -a --format='{{.ID}}  {{.ImageName}}'
  228  sudo podman ps -a --format='{{.ID}}  {{.Image}}'
  229  man podman-ps 
  230  sudo podman images 
  231  sudo podman rm mystifying_chaum
  232  sudo podman ps -a
  233  sudo podman run -d --name my-web-container registry.access.redhat.com/rhscl/httpd-24-rhel7:latest 
  234  sudo podman ps
  235  sudo podman exec -it my-web-container /bin/bash
  236  sudo podman ps
  237  sudo podman run --name my-container-1 registry.access.redhat.com/rhscl/httpd-24-rhel7:latest  ls /tmp
  238  sudo podman ps 
  239  sudo podman ps -a
  240  sudo podman run --name my-container-2 -it registry.access.redhat.com/rhscl/httpd-24-rhel7 /bin/bash
  241  sudo podman run -it -rm registry.access.redhat.com/rhscl/httpd-24-rhel7 /bin/bash
  242  sudo podman run -it --rm registry.access.redhat.com/rhscl/httpd-24-rhel7 /bin/bash
  243  sudo podman ps 
  244  sudo podman ps -a
  245  sudo podman run --name my-container-2 -d registry.access.redhat.com/rhscl/httpd-24-rhel7
  246  sudo podman ps 
  247  sudo podman exec 9701cdc83d84 cat /etc/hostname
  248  sudo podman exec my-container-2 cat /etc/hostname
  249  sudo podman exec -l cat /etc/hostname 
  250  sudo podman ps 
  251  sudo podman inspect my-container-2 
  252  sudo podman inspect my-container-2 -f '{{ .NetworkSettings.IPAddress}}'
  253  sudo podman inspect my-container-2 -f '{{ .NetworkSettings.IPAddress }}'
  254  ls -a .local/
  255  ls -a .local/share/
  256  ls -a .local/share/containers/
  257  ls -a .local/share/containers/storage/
  258  ls -a .local/share/containers/storage/overlay-containers/
  259  ls -a .local/share/containers/storage/overlay-layers/
  260  ls -a .local/share/containers/storage/tmp/
  261  ls -a .local/share/containers/storage/overlay
  262  ls -a .local/share/containers/storage/overlay/l/
  263  tree -a .local/
  264  tree -a .local/share/containers/
  265  sudo podman inspect my-container -2
  266  sudo podman inspect my-container-2
  267  sudo su - 
  268  sudo podman ps 
  269  sudo podman ps -a
  270  sudo podman rm my-container-2
  271  sudo podman rm my-container-1
  272  sudo podman ps 
  273  sudo podman stop my-web-container
  274  sudo podman rm my-web-container
  275  sudo podman ps -a 
  276  sudo podman ps 
  277  sudo podman kill -s SIGKILL my-container-4
  278  sudo podman kill -s SIGTERM my-container-5
  279  sudo podman  ps -a
  280  sudo podman restart my-container-4
  281  sudo podman  ps 
  282  sudo podman images 
  283  sudo podman ps -a 
  284  sudo podman rmi registry.access.redhat.com/rhscl/httpd-24-rhel7:latest
  285  sudo podman ps 
  286  sudo podman ps -a
  287  sudo podman images 
  288  podman images 
  289  podman ps 
  290  podman ps -a
  291  lab manage-lifecycle start 
  292  sudo podman  run --name mysql-db rhscl/mysql-57-rhel7 
  293  sudo podman ps -a
  294  sudo podman logs mysql-db
  295  sudo podman  run --name mysql -d -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7 
  296  sudo podman  ps 
  297  sudo podman  ps --format="{{.ID}}  {{.Names}}    {{.Status}}"
  298  sudo podman inspect -f '{{ .NetworkSettings.IPAddress }}' mysql 
  299  mysql -uuser1 -h 10.88.0.16 -pmypa55 items 
  300  cat DO180/labs/manage-lifecycle/db.sql 
  301  mysql -uuser1 -h 10.88.0.16 -pmypa55 items < /home/student/DO180/labs/manage-lifecycle/db.sql
  302  mysql -uuser1 -h 10.88.0.16 -pmypa55 items 
  303  sudo podman run --name mysql-2 -it rhscl/mysql-57-rhel7 /bin/bash
  304  sudo podman ps -a 
  305  sudo podman exec mysql /bin/bash -c 'mysql -uuser1 -pmypa55 -e "select * from items.Projects;"'
  306  lab manage-lifecycle finish 
  307  sudo -i
  308  ls
  309  mkdir -p dbvol 
  310  ls -ldZ dbvol
  311  chown -R 27:27 dbvol
  312  podman unshare chown -R 27:27 dbvol
  313  ls -ld dbvol
  314  podman unshare ls -ld dbvol
  315  podman unshare --help 
  316  podman  --help | grep unshare 
  317  sudo semanage fcontext -a -t container_file_t '/home/student/dbvol(/.*)?'
  318  sudo restorecon -Rv /home/student/dbvol/
  319  ls -ldZ /home/student/dbvol/
  320  sudo podman images 
  321  sudo podman  ps -a 
  322  sudo podman rmi 60726b33a00a
  323  sudo podman images 
  324  podman images 
  325  podman ps -a 
  326  lab manage-storage start 
  327  sudo mkdir -pv /var/local/mysql 
  328  sudo semanage fcontext -a -t container_file_t '/var/local/mysql(/.*)?'
  329  sudo restorecon -R /var/local/mysql
  330  ls -ldZ /var/local/mysql/
  331  sudo chown -R 27:27 /var/local/mysql
  332  ls -ldZ /var/local/mysql/
  333  sudo podman pull rhscl/mysql-57-rhel7 
  334  sudo podman  run --name persist-db -d -v /var/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
  335  sudo podman ps 
  336  ls -l /var/local/mysql/
  337  ls -l /var/local/mysql/items/
  338  ls -ld /var/local/mysql/items/
  339  lab manage-storage finish 
  340  sudo du -
  341  sudo -i
  342  lab manage-review start 
  343  sudo mkdir -pv /var/local/mysql
  344  ls -ld /var/local/mysql
  345  sudo semanage fcontext -a -t container_file_t '/var/local/mysql(/.*)?'
  346  sudo restorecon -Rv /var/local/mysql/
  347  ls -ldZ /var/local/mysql/
  348  sudo chown -R 27:27 /var/local/mysql
  349  ls -ldZ /var/local/mysql/
  350  sudo podman run --name mysql-1 -d -v /var/local//mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7 
  351  sudo podman ps 
  352  cat DO180/labs/manage-review/db.sql 
  353  sudo podman inspect mysql-1 
  354  sudo podman inspect mysql-1  | grep -i IPAddress
  355  sudo podman inspect mysql-1  -f '{{ .NetworkSettings.IPAddress }}'
  356  mysql -uuser1 -h 10.88.0.24 -pmypa55 items < /home/student/DO180/labs/manage-review/db.sql 
  357  mysql -uuser1 -h 10.88.0.24 -pmypa55 items -e "SELECT * from Item"
  358  sudo podman stop mysql-1 
  359  sudo podman run --name mysql-2 -d -v /var/local//mysql:/var/lib/mysql/data -p13306:3306 -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7 
  360  sudo podman  ps 
  361  sudo podman  ps -a
  362  sudo podman  ps -a > /tmp/my-containers
  363  cat /tmp/my-containers
  364  sudo podman exec -it mysql-2 /bin/bash
  365  mysql -uuser1 -h 127.0.0.1 -pmypa55 -P 13306 items
  366  sudo podman rm mysql-1
  367  lab manage-review grade 
  368  lab manage-review finish 
  369  podman search httpd-parent
  370  podman search registry.redhat.io/httpd
  371  podman pull registry.redhat.io/rhscl/httpd-24-rhel7
  372  podman login registry.redhat.io
  373  podman pull registry.redhat.io/rhscl/httpd-24-rhel7
  374  # podman run -d --name myweb -p 8080:8080 registry.redhat.io/rhscl/httpd-24-rhel7 
  375  podman inspect registry.redhat.io/rhscl/httpd-24-rhel7
  376  podman run -d --name myweb -p 8080:8080 registry.redhat.io/rhscl/httpd-24-rhel7 
  377  podman ps 
  378  curl localhost:8080
  379  podman exec -it myweb bash
  380  curl localhost:8080
  381  podman  diff myweb 
  382  podman commit --help
  383  podman images 
  384  podman commit myweb custom-web-image
  385  podman images 
  386  podman search registry.redhat.io/httpd
  387  podman ps 
  388  curl localhost:8080
  389  podman ps 
  390  podman exec -it myweb bash
  391  podman diff myweb 
  392  # A -- Add a file 
  393  # C -- Changed file (Timestamp)
  394  # D -- Delete file 
  395  podman images 
  396  podman commit --help 
  397  podman ps 
  398  podman stop myweb
  399  podman commit myweb quay.io/sanjuraj_rh/myweb:v1.0 
  400  podman images 
  401  podman  login quay.io
  402  podman push quay.io/sanjuraj_rh/myweb:v1.0 
  403  podman images 
  404  podman rm myweb 
  405  podman rmi -a 
  406  podman images  
  407  podman run --name mywebcontainer -d -p 8080:80 quay.io/sanjuraj_rh/myweb:v1.0 
  408  podmsps 
  409  podman ps 
  410  curl localhost:8080
  411  podman exec -it mywebcontainer bash
  412  curl localhost:8080/do180.html
  413  podman commit mywebcontainer quay.io/sanjuraj_rh/myweb:v1.1 
  414  podman images 
  415  podman push quay.io/sanjuraj_rh/myweb:v1.1 
  416  podman run --name mywebcontainer-1 -d -p 8180:80 quay.io/sanjuraj_rh/myweb:v1.1
  417  podman ps 
  418  curl localhost:8180
  419  curl localhost:8180/do180.html
  420  podman ps -a 
  421  podman stop -a 
  422  podman rm -a 
  423  podman images 
  424  podman rmi -a 
  425  podman images 
  426  lab image-operations start 
  427  sudo podman login quay.io
  428  sudo podman run -d --name official-httpd -p 8180:80 quay.io/redhattraining/httpd-parent
  429  sudo podman ps 
  430  sudo podman exec -it official-httpd /bin/bash
  431  curl localhost:8180/do180.html
  432  sudo podman diff official-httpd
  433  sudo podman stop official-httpd
  434  sudo podman images 
  435  sudo podman commit -a "DevOps" official-httpd do180-custom-httpd
  436  sudo podman images 
  437  cat /usr/local/etc/ocp4.config 
  438  sudo podman tag localhost/do180-custom-httpd quay.io/sanjuraj_rh/do180-custom-httpd:v1.0 
  439  sudo podman images 
  440  sudo podman push quay.io/sanjuraj_rh/do180-custom-httpd:v1.0 
  441  sudo podman pull -q quay.io/sanjuraj_rh/do180-custom-httpd:v1.0
  442  sudo podman run -d --name test-httpd -p 8280:80 quay.io/sanjuraj_rh/do180-custom-httpd:v1.0
  443  sudo podman ps 
  444  curl http://localhost:8280/do180.html
  445  lab image-operations finish 
  446  sudo podman images 
  447  lab image-review start 
  448  sudo podman pull quay.io/redhattraining/nginx:1.17
  449  sudo podman images
  450  sudo podman run --name official-nginx -d -p 8080:80 quay.io/redhattraining/nginx:1.17
  451  sudo podman ps 
  452  curl localhost:8080
  453  sudo podman exec -it official-nginx /bin/bash
  454  curl localhost:8080
  455  sudo podman stop official-nginx
  456  sudo podman commit -a "DevOps" official-nginx do180/mynginx:v1.0-SNAPSHOT
  457  sudo podman images 
  458  sudo podman run --name official-nginx-dev -d -p 8080:80 localhost/do180/mynginx:v1.0-SNAPSHOT
  459  sudo podman ps 
  460  curl localhost:8080
  461  sudo podman exec -it official-nginx-dev /bin/bash
  462  curl localhost:8080
  463  sudo podman stop official-nginx-dev
  464  sudo podman commit -a "DevOps" official-nginx-dev do180/mynginx:v1.0 
  465  sudo podman images 
  466  sudo podman rmi localhost/do180/mynginx:v1.0-SNAPSHOT
  467  sudo podman ps 
  468  sudo podman ps -a
  469  sudo podman rm official-nginx-dev
  470  sudo podman ps -a
  471  sudo podman rmi localhost/do180/mynginx:v1.0-SNAPSHOT
  472  sudo podman images 
  473  sudo podman run -d --name my-nginx -p 8280:80 localhost/do180/mynginx:v1.0 
  474  sudo podman ps -a 
  475  curl http://localhost:8280
  476  lab image-review finish 
  477  ls
  478  history 
  479  history > history.txt
